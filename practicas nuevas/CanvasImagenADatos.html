<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>conversion de imagen a dato</title>
</head>
<style>
	section{
		margin: 0 auto;
	}
	#lienzo{
		border: 1px solid #f00;
	}
	
	
</style>

<script>
	
	function comenzar(){
	
	var elemento = document.getElementById("lienzo");
	lienzo = elemento.getContext("2d");
		
	var imagen=new Image();
		imagen.src="http://www.usm.cl/assets/img/carreras/fotos/vina-del-mar-tecnico-universitario-en-informatica.w700.jpg";
		
	imagen.addEventListener("load",manipulacion,false);
	
		lienzo.drawImage();
	}
	
	function manipulacion(e){
		imagen= e.target;
		lienzo.drawImage(imagen,0,0);
		
		var info_imagen = lienzo.getImageData(0,0,145,145);
		var posicion;
		for (x=0;x<=145;x++){
			
			for(y=0;y<=145;y++){
				posicion=(info_imagen.width*4*y)+(x*4);
				
				info_imagen.data[posicion]=255-info_imagen[posicion];
				info_imagen.data[posicion+1]=255-info_imagen.data[posicion+1];
				info_imagen.data[posicion+2]=255-info_imagen.data[posicion+2];
			}
			
			
		}
		lienzo.putImageData(info_imagen,0,0);
		
		
	 }
	
	
	
		
	
window.addEventListener("load",comenzar,"false");	
</script>
<section>
	<canvas id="lienzo" width="1200" height="800"></canvas>
</section>

<body>
</body>
</html>
